<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mapping flow: Getting Started • LITAP</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Mapping flow: Getting Started">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LITAP</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/steffilazerte/LITAP">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Mapping flow: Getting Started</h1>
                        <h4 class="author">Steffi LaZerte</h4>
            
            <h4 class="date">2019-07-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/steffilazerte/LITAP/blob/master/vignettes/LITAP.Rmd"><code>vignettes/LITAP.Rmd</code></a></small>
      <div class="hidden name"><code>LITAP.Rmd</code></div>

    </div>

    
    
<style>
.figure {
  max-width: 100%;
  margin: auto;
}
.table {
  width: auto;
  margin: auto;
}
</style>
<div id="basic-run" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-run" class="anchor"></a>Basic run</h2>
<p>First load the LITAP package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(LITAP)</a></code></pre></div>
<p>The only required parameters are the location of the dem file (<code>file</code>) and the number of rows and the number of columns (<code>nrow</code> and <code>ncol</code>) in the dem file.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.dbf"</span>, <span class="dt">nrow =</span> <span class="dv">150</span>, <span class="dt">ncol =</span> <span class="dv">150</span>)</a></code></pre></div>
<pre><code>## CALCULATING DIRECTIONS</code></pre>
<pre><code>## CALCULATING WATERSHEDS</code></pre>
<pre><code>## REMOVING INITIAL PITS</code></pre>
<pre><code>## CALCULATING POND (GLOBAL) WATERSHEDS</code></pre>
<pre><code>## CALCULATING FILL PATTERNS</code></pre>
<pre><code>## INVERTING DEM</code></pre>
<pre><code>## CALCULATING INVERTED DIRECTIONS</code></pre>
<pre><code>## CALCULATING INVERTED WATERSHEDS</code></pre>
<pre><code>## REMOVING INVERTED INITIAL PITS</code></pre>
<pre><code>## SAVING OUTPUT</code></pre>
<pre><code>## CREATING REPORT</code></pre>
<pre><code>## Run took: 0.37 min</code></pre>
</div>
<div id="pit-removal-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#pit-removal-parameters" class="anchor"></a>Pit removal parameters</h2>
<p>The maximum size of initial watersheds which will be removed in the first step can also be specified:</p>
<ul>
<li>
<code>max_area</code> represents the maximum pit area (area of a watershed below it’s pour point) of a watershed to be removed in the initial step</li>
<li>
<code>max_depth</code> represents the maximum depth of a pit (difference between the elevation of the pour point and the elevation of the pit centre) of a watershed to be removed in the initial step</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.dbf"</span>, <span class="dt">nrow =</span> <span class="dv">150</span>, <span class="dt">ncol =</span> <span class="dv">150</span>, <span class="dt">max_area =</span> <span class="dv">5</span>, <span class="dt">max_depth =</span> <span class="fl">0.2</span>)</a></code></pre></div>
<pre><code>## CALCULATING DIRECTIONS</code></pre>
<pre><code>## CALCULATING WATERSHEDS</code></pre>
<pre><code>## REMOVING INITIAL PITS</code></pre>
<pre><code>## CALCULATING POND (GLOBAL) WATERSHEDS</code></pre>
<pre><code>## CALCULATING FILL PATTERNS</code></pre>
<pre><code>## INVERTING DEM</code></pre>
<pre><code>## CALCULATING INVERTED DIRECTIONS</code></pre>
<pre><code>## CALCULATING INVERTED WATERSHEDS</code></pre>
<pre><code>## REMOVING INVERTED INITIAL PITS</code></pre>
<pre><code>## SAVING OUTPUT</code></pre>
<pre><code>## CREATING REPORT</code></pre>
<pre><code>## Run took: 0.35 min</code></pre>
</div>
<div id="output-folders" class="section level2">
<h2 class="hasAnchor">
<a href="#output-folders" class="anchor"></a>Output folders</h2>
<p>A LITAP run saves all output from <code><a href="../reference/flow_mapper.html">flow_mapper()</a></code> into two folders: <code>backup</code> and <code>flow</code>.</p>
<ul>
<li>
<code>backup</code> folder contains .rds files (R data files) used to resume a run from an intermediate point. These are also used by <code><a href="../reference/form_mapper.html">form_mapper()</a></code>. These shouldn’t be used by the user.</li>
<li>
<code>flow</code> folder contains .csv, .dbf, or .rds files of the output (depending on the output format specified), similar to that produced by the LandMapR program but designed for ease of use in R.</li>
</ul>
<p>You can specify where these output folders/files should be saved with <code>out_folder</code>. Otherwise the folders will be created in the folder of the original Elev.dbf file, which may not be desirable. Note that folder locations are relative to working directory of the R session.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.dbf"</span>, <span class="dt">nrow =</span> <span class="dv">150</span>, <span class="dt">ncol =</span> <span class="dv">150</span>, <span class="dt">out_folder =</span> <span class="st">"./Output/"</span>)</a></code></pre></div>
<pre><code>## CALCULATING DIRECTIONS</code></pre>
<pre><code>## CALCULATING WATERSHEDS</code></pre>
<pre><code>## REMOVING INITIAL PITS</code></pre>
<pre><code>## CALCULATING POND (GLOBAL) WATERSHEDS</code></pre>
<pre><code>## CALCULATING FILL PATTERNS</code></pre>
<pre><code>## INVERTING DEM</code></pre>
<pre><code>## CALCULATING INVERTED DIRECTIONS</code></pre>
<pre><code>## CALCULATING INVERTED WATERSHEDS</code></pre>
<pre><code>## REMOVING INVERTED INITIAL PITS</code></pre>
<pre><code>## SAVING OUTPUT</code></pre>
<pre><code>## CREATING REPORT</code></pre>
<pre><code>## Run took: 0.36 min</code></pre>
<p>To clean up any old files before conducting a new run, use <code>clean = TRUE</code>. <strong>Careful, this will remove all backup files from previous runs making it impossible to resume a run!</strong></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.dbf"</span>, <span class="dt">nrow =</span> <span class="dv">150</span>, <span class="dt">ncol =</span> <span class="dv">150</span>, <span class="dt">out_folder =</span> <span class="st">"./Output/"</span>, </a>
<a class="sourceLine" id="cb41-2" data-line-number="2">    <span class="dt">clean =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## CALCULATING DIRECTIONS</code></pre>
<pre><code>## CALCULATING WATERSHEDS</code></pre>
<pre><code>## REMOVING INITIAL PITS</code></pre>
<pre><code>## CALCULATING POND (GLOBAL) WATERSHEDS</code></pre>
<pre><code>## CALCULATING FILL PATTERNS</code></pre>
<pre><code>## INVERTING DEM</code></pre>
<pre><code>## CALCULATING INVERTED DIRECTIONS</code></pre>
<pre><code>## CALCULATING INVERTED WATERSHEDS</code></pre>
<pre><code>## REMOVING INVERTED INITIAL PITS</code></pre>
<pre><code>## SAVING OUTPUT</code></pre>
<pre><code>## CREATING REPORT</code></pre>
<pre><code>## Run took: 0.35 min</code></pre>
</div>
<div id="different-input-file-types" class="section level2">
<h2 class="hasAnchor">
<a href="#different-input-file-types" class="anchor"></a>Different input file types</h2>
<p>You can use a variety of input file types, provided they fit the format specifications defined in <code><a href="../reference/load_file.html">load_file()</a></code> (<code><a href="../reference/load_file.html">?load_file</a></code> for more details). Among others, the following file types are accepted:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.grd"</span>)  <span class="co"># Grid files</span></a>
<a class="sourceLine" id="cb54-2" data-line-number="2"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.csv"</span>)  <span class="co"># CSV files</span></a>
<a class="sourceLine" id="cb54-3" data-line-number="3"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.asc"</span>)  <span class="co"># Ascii Grid files</span></a>
<a class="sourceLine" id="cb54-4" data-line-number="4"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.flt"</span>)  <span class="co"># Floating point raster files</span></a>
<a class="sourceLine" id="cb54-5" data-line-number="5"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV"</span>)  <span class="co"># ArcGis Gridfile folder (contains .hdr files)</span></a></code></pre></div>
</div>
<div id="subset-of-input-dem" class="section level2">
<h2 class="hasAnchor">
<a href="#subset-of-input-dem" class="anchor"></a>Subset of input dem</h2>
<p>To conduct a run on only a subset of the dem you can specify row and column limits (<code>rlim</code> and <code>clim</code> respectively):</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.dbf"</span>, <span class="dt">nrow =</span> <span class="dv">150</span>, <span class="dt">ncol =</span> <span class="dv">150</span>, <span class="dt">rlim =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">50</span>, <span class="dv">100</span>), </a>
<a class="sourceLine" id="cb55-2" data-line-number="2">    <span class="dt">clim =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">50</span>, <span class="dv">100</span>))</a></code></pre></div>
<pre><code>## CALCULATING DIRECTIONS</code></pre>
<pre><code>## CALCULATING WATERSHEDS</code></pre>
<pre><code>## REMOVING INITIAL PITS</code></pre>
<pre><code>## CALCULATING POND (GLOBAL) WATERSHEDS</code></pre>
<pre><code>## CALCULATING FILL PATTERNS</code></pre>
<pre><code>## INVERTING DEM</code></pre>
<pre><code>## CALCULATING INVERTED DIRECTIONS</code></pre>
<pre><code>## CALCULATING INVERTED WATERSHEDS</code></pre>
<pre><code>## REMOVING INVERTED INITIAL PITS</code></pre>
<pre><code>## SAVING OUTPUT</code></pre>
<pre><code>## CREATING REPORT</code></pre>
<pre><code>## Run took: 0.07 min</code></pre>
</div>
<div id="output-messages" class="section level2">
<h2 class="hasAnchor">
<a href="#output-messages" class="anchor"></a>Output messages</h2>
<p>To include detailed output, use <code>verbose = TRUE</code>:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.dbf"</span>, <span class="dt">nrow =</span> <span class="dv">150</span>, <span class="dt">ncol =</span> <span class="dv">150</span>, <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>##   Using supplied 150 rows and 150 columns</code></pre>
<pre><code>##   Formating grid</code></pre>
<pre><code>##   Adding buffer</code></pre>
<pre><code>## CALCULATING DIRECTIONS</code></pre>
<pre><code>##      - Fixing flat plateaus round 1...</code></pre>
<pre><code>##      - Fixing flat plateaus round 2...</code></pre>
<pre><code>##      - Fixing flat plateaus round 3...</code></pre>
<pre><code>## CALCULATING WATERSHEDS</code></pre>
<pre><code>## REMOVING INITIAL PITS</code></pre>
<pre><code>##     Assessing pour points     Combining watersheds 7 and 13
##     Assessing pour points     Combining watersheds 13 and 16
##     Assessing pour points     Combining watersheds 12 and 16
##     Assessing pour points     Combining watersheds 14 and 5
##     Assessing pour points     Combining watersheds 16 and 5
##     Assessing pour points     Combining watersheds 18 and 10
##     Assessing pour points     Combining watersheds 1 and 17
##     Assessing pour points     Combining watersheds 17 and 21
##     Assessing pour points     Combining watersheds 8 and 9
##     Assessing pour points     Combining watersheds 9 and 6
##     Assessing pour points 
## 
##     Calculating elevation differences
## CALCULATING POND (GLOBAL) WATERSHEDS
##     Assessing pour points   Current pit: 6
##     Pit 1: 6
##     Pit 2: 21
##     Lowest pit: 21
##   Watersheds 21 and 22 are FINAL sheds
##   Current pit: 6
##     Pit 1: 6
##     Pit 2: 21
##     Pit 2 already FINAL pit
##     Lowest pit: 6
##   Watersheds 6 and 21 are FINAL sheds
##   Current pit: 19
##     Pit 1: 19
##     Pit 2: 22
##     Pit 2 already FINAL pit
##     Lowest pit: 19
##   Watersheds 19 and 22 are FINAL sheds
##   Current pit: 10
##     Pit 1: 10
##     Pit 2: 21
##     Pit 2 already FINAL pit
##     Lowest pit: 10
##   Combining sheds 10 and 21 into new shed 23
##     Assessing pour points   Current pit: 23
##     Pit 1: 23
##     Pit 2: 22
##     Pit 2 already FINAL pit
##     Lowest pit: 23
##   Watersheds 23 and 22 are FINAL sheds
##   Current pit: 2
##     Pit 1: 2
##     Pit 2: 20
##     Lowest pit: 20
##   Watersheds 20 and 6 are FINAL sheds
##   Current pit: 2
##     Pit 1: 2
##     Pit 2: 20
##     Pit 2 already FINAL pit
##     Lowest pit: 2
##   Combining sheds 2 and 20 into new shed 24
##     Assessing pour points   Current pit: 24
##     Pit 1: 24
##     Pit 2: 6
##     Pit 2 already FINAL pit
##     Lowest pit: 24
##   Watersheds 24 and 6 are FINAL sheds
##   Current pit: 4
##     Pit 1: 4
##     Pit 2: 24
##     Pit 2 already FINAL pit
##     Lowest pit: 4
##   Watersheds 4 and 24 are FINAL sheds
##   Current pit: 11
##     Pit 1: 11
##     Pit 2: 23
##     Pit 2 already FINAL pit
##     Lowest pit: 11
##   Combining sheds 11 and 23 into new shed 25
##     Assessing pour points   Current pit: 25
##     Pit 1: 25
##     Pit 2: 22
##     Pit 2 already FINAL pit
##     Lowest pit: 25
##   Watersheds 25 and 22 are FINAL sheds
##   Current pit: 5
##     Pit 1: 5
##     Pit 2: 25
##     Pit 2 already FINAL pit
##     Lowest pit: 5
##   Watersheds 5 and 25 are FINAL sheds
##   Current pit: 15
##     Pit 1: 15
##     Pit 2: 5
##     Pit 2 already FINAL pit
##     Lowest pit: 15
##   Watersheds 15 and 5 are FINAL sheds
##   Current pit: 3
##     Pit 1: 3
##     Pit 2: 4
##     Pit 2 already FINAL pit
##     Lowest pit: 3
##   Watersheds 3 and 4 are FINAL sheds
## 
## 
## CALCULATING FILL PATTERNS
##     Assessing pour points   Combining sheds 10 and 21 to new shed 23
##     Assessing pour points   Combining sheds 11 and 23 to new shed 24
##     Assessing pour points   Combining sheds 2 and 20 to new shed 25
##     Assessing pour points 
## 
##     Calculating new elevation differences
## INVERTING DEM
## CALCULATING INVERTED DIRECTIONS
##      - Fixing flat plateaus round 1...
##      - Fixing flat plateaus round 2...
##      - Fixing flat plateaus round 3...
##      - Fixing flat plateaus round 4...
##      - Fixing flat plateaus round 5...
## CALCULATING INVERTED WATERSHEDS
## REMOVING INVERTED INITIAL PITS
##     Assessing pour points     Combining watersheds 2 and 3
##     Assessing pour points     Combining watersheds 4 and 6
##     Assessing pour points     Combining watersheds 12 and 5
##     Assessing pour points     Combining watersheds 10 and 7
##     Assessing pour points     Combining watersheds 6 and 7
##     Assessing pour points     Combining watersheds 22 and 21
##     Assessing pour points     Combining watersheds 18 and 11
##     Assessing pour points     Combining watersheds 14 and 19
##     Assessing pour points     Combining watersheds 20 and 23
##     Assessing pour points     Combining watersheds 23 and 26
##     Assessing pour points     Combining watersheds 19 and 25
##     Assessing pour points     Combining watersheds 7 and 3
##     Assessing pour points     Combining watersheds 16 and 17
##     Assessing pour points     Combining watersheds 26 and 25
##     Assessing pour points     Combining watersheds 3 and 17
##     Assessing pour points 
## 
##     Calculating elevation differences
## SAVING OUTPUT
## CREATING REPORT
## Run took: 0.36 min</code></pre>
<p>To prevent all output, use <code>quiet = TRUE</code>:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.dbf"</span>, <span class="dt">nrow =</span> <span class="dv">150</span>, <span class="dt">ncol =</span> <span class="dv">150</span>, <span class="dt">quiet =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="resuming-a-run" class="section level2">
<h2 class="hasAnchor">
<a href="#resuming-a-run" class="anchor"></a>Resuming a run</h2>
<p>Each run of LITAP goes through 10 steps. A run can be halted or resumed at step by specifying the corresponding variable.</p>
<p>For example, to resume with calculating pond statistics (step 5) and continue to the end of the run:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.dbf"</span>, <span class="dt">nrow =</span> <span class="dv">150</span>, <span class="dt">ncol =</span> <span class="dv">150</span>, <span class="dt">resume =</span> <span class="st">"pond"</span>)</a></code></pre></div>
<pre><code>## SKIPPING CALCULATING DIRECTIONS</code></pre>
<pre><code>## SKIPPING CALCULATING WATERSHEDS</code></pre>
<pre><code>## SKIPPING REMOVING INITIAL PITS</code></pre>
<pre><code>## CALCULATING POND (GLOBAL) WATERSHEDS</code></pre>
<pre><code>## CALCULATING FILL PATTERNS</code></pre>
<pre><code>## INVERTING DEM</code></pre>
<pre><code>## CALCULATING INVERTED DIRECTIONS</code></pre>
<pre><code>## CALCULATING INVERTED WATERSHEDS</code></pre>
<pre><code>## REMOVING INVERTED INITIAL PITS</code></pre>
<pre><code>## SAVING OUTPUT</code></pre>
<pre><code>## CREATING REPORT</code></pre>
<pre><code>## Run took: 0.23 min</code></pre>
<p>Or to resume from pond statistics and to end just after calculating fill statistics (step 6):</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" data-line-number="1"><span class="kw"><a href="../reference/flow_mapper.html">flow_mapper</a></span>(<span class="dt">file =</span> <span class="st">"testELEV.dbf"</span>, <span class="dt">nrow =</span> <span class="dv">150</span>, <span class="dt">ncol =</span> <span class="dv">150</span>, <span class="dt">resume =</span> <span class="st">"pond"</span>, </a>
<a class="sourceLine" id="cb93-2" data-line-number="2">    <span class="dt">end =</span> <span class="st">"fill"</span>)</a></code></pre></div>
<pre><code>## SKIPPING CALCULATING DIRECTIONS</code></pre>
<pre><code>## SKIPPING CALCULATING WATERSHEDS</code></pre>
<pre><code>## SKIPPING REMOVING INITIAL PITS</code></pre>
<pre><code>## CALCULATING POND (GLOBAL) WATERSHEDS</code></pre>
<pre><code>## CALCULATING FILL PATTERNS</code></pre>
<pre><code>## Run took: 0.05 min</code></pre>
<pre><code>## NULL</code></pre>
</div>
<div id="steps" class="section level2">
<h2 class="hasAnchor">
<a href="#steps" class="anchor"></a>Steps</h2>
<p>The variable in brackets defines the argument to use for continuing and ending a run.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Calculating Directions</strong> (<code>directions</code>) Calculating the flow direction of each cell into a neighbouring cell</p></li>
<li><p><strong>Calculating Watersheds</strong> (<code>watersheds</code>) From the flow directions, combine cells into initial watersheds</p></li>
<li><p><strong>Initial Pit Removal</strong> (<code>local</code>) Remove pits which are smaller than the maximum area and depth (and which are not edge pits). These pits are removed into neighbouring pits.</p></li>
<li><p><strong>Calculating Pond Shed Statistics Second Pit Removal)</strong> (<code>pond</code>) Calculate how pits would overflow into each other</p></li>
<li><p><strong>Calculating Fill Shed Statistics (Third Pit Removal)</strong> (<code>fill</code>)</p></li>
<li><p><strong>Calculating Directions on Inverted DEM</strong> (<code>inverted</code>) Reverse the elevations of the original DEM file. This will make all troughs into peaks, etc. Then calculate the flow direction of each cell into a neighbouring cell. Because the DEM is inverted, this will track upslope flow</p></li>
<li><p><strong>Calculating Inverted Watersheds</strong> (<code>iwatersheds</code>) From the flow directions, combine cells into initial watersheds</p></li>
<li><p><strong>Initial Inverted Pit Removal</strong> (<code>ilocal</code>) Remove pits which are smaller than the maximum area and depth (and which are not edge pits). These pits are removed into neighbouring pits. Calculate watershed statistics on these resulting local pits. Because the DEM is inverted, this will highlight peaks and flow down from these peaks.</p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#basic-run">Basic run</a></li>
      <li><a href="#pit-removal-parameters">Pit removal parameters</a></li>
      <li><a href="#output-folders">Output folders</a></li>
      <li><a href="#different-input-file-types">Different input file types</a></li>
      <li><a href="#subset-of-input-dem">Subset of input dem</a></li>
      <li><a href="#output-messages">Output messages</a></li>
      <li><a href="#resuming-a-run">Resuming a run</a></li>
      <li><a href="#steps">Steps</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Steffi LaZerte.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
