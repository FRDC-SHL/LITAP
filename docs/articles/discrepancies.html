<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Known Discrepancies and Changes • LITAP</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Known Discrepancies and Changes">
<meta property="og:description" content="LITAP">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LITAP</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/steffilazerte/LITAP" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Known Discrepancies and Changes</h1>
                        <h4 data-toc-skip class="author">Steffi
LaZerte</h4>
            
            <h4 data-toc-skip class="date">2024-10-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/FRDC-SHL/LITAP/blob/HEAD/vignettes/discrepancies.Rmd" class="external-link"><code>vignettes/discrepancies.Rmd</code></a></small>
      <div class="hidden name"><code>discrepancies.Rmd</code></div>

    </div>

    
    
<p>This is a non-exclusive list of known differences between LITAP and
R. A. (Bob) MacMillan’s original LandMapR. Some differences reflect
differences in the programming techniques, some reflect deliberate
changes.</p>
<div class="section level3">
<h3 id="general-differences">General differences<a class="anchor" aria-label="anchor" href="#general-differences"></a>
</h3>
<div class="section level4">
<h4 id="missing-variables">Missing variables<a class="anchor" aria-label="anchor" href="#missing-variables"></a>
</h4>
<p>Some variables are not included in LITAP if they are not necessary.
For example, the inverted DEMs originally included Vol2Fl, MM2Fl and
PArea, but LITAP does not include these values because they aren’t
calculated specifically for the inverted DEM, but are identical to those
in the non-inverted DEM.</p>
</div>
<div class="section level4">
<h4 id="renamed-variables">Renamed variables<a class="anchor" aria-label="anchor" href="#renamed-variables"></a>
</h4>
<p>Some variables have been renamed in LITAP for consistency. See the <a href="variables.html">variables</a> article for an overview</p>
</div>
<div class="section level4">
<h4 id="flat-areas-where-all-cells-are-the-same-elevation">Flat areas (where all cells are the same elevation)<a class="anchor" aria-label="anchor" href="#flat-areas-where-all-cells-are-the-same-elevation"></a>
</h4>
<p>When we have an area with flat cells, LITAP uses a different way of
assigning the direction of flow than the original program (in order to
speed things up). This results in small differences in flow directions
over flat areas.</p>
</div>
<div class="section level4">
<h4 id="rounding-error">Rounding error<a class="anchor" aria-label="anchor" href="#rounding-error"></a>
</h4>
<p>Sometimes, rounding error on very small numbers can result in quite
large differences especially when looking at percentages, etc.</p>
</div>
<div class="section level4">
<h4 id="compounding-differences">Compounding differences<a class="anchor" aria-label="anchor" href="#compounding-differences"></a>
</h4>
<p>Adding changes in flow direction to small differences in rounding
error can result in larger differences when adding up measures over all
cells in a watershed. These should be considered stochastic differences.
However if things look really different, contact us and let us know!</p>
</div>
</div>
<div class="section level3">
<h3 id="flow_mapper-and-flowmapr">
<code>flow_mapper()</code> and FlowMapR<a class="anchor" aria-label="anchor" href="#flow_mapper-and-flowmapr"></a>
</h3>
<div class="section level4">
<h4 id="pondfillpit-files">Pond/Fill/Pit files<a class="anchor" aria-label="anchor" href="#pondfillpit-files"></a>
</h4>
<ul>
<li>
<code>PitAreas</code> sometimes larger because of LITAP works with
elevation slices. <code>PitArea</code> is all cells upto
<code>PourElev.</code> LandMapR worked by spiralling up the cells.
<code>PitArea</code> is total area up to <code>PourPoint</code> cell
(not necessarily all cells at the <code>PourElev</code>)</li>
<li>
<code>Nextpit</code> is often incorrect for Pond Data (not sure
why)</li>
<li>
<code>DrainsTo</code> isn’t always updated in original LandMapR (not
sure if represents something missing in LITAP or bug in LandMapR)</li>
<li>Exact location of pour point between two watersheds is sometimes off
by a cell or two (out rec and in rec) due to tie breaking</li>
<li>
<code>PitRecs</code> in big patches of equal elevation are in the
centre of the patch in LITAP, but at the bottom of the patch in
FlowMapR</li>
<li>Sometimes rounding difference on the <code>InElev</code> and/or
<code>PourElev.</code>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="dem-file">Dem file<a class="anchor" aria-label="anchor" href="#dem-file"></a>
</h4>
<ul>
<li>The calculations for
<code>Vol2Fl</code>/<code>mm2fl</code>/<code>parea</code> are sometimes
off, if the upslope calculations are slightly different (generally due
to tie breaking)</li>
</ul>
</div>
<div class="section level4">
<h4 id="idemipit">idem/ipit<a class="anchor" aria-label="anchor" href="#idemipit"></a>
</h4>
<ul>
<li>
<code>DrainsTo</code> in LITAP is a real shed, whereas in FlowMapR
it is often 0, not sure of why the differences</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="form_mapper-and-formmapr">
<code>form_mapper()</code> and FormMapR<a class="anchor" aria-label="anchor" href="#form_mapper-and-formmapr"></a>
</h3>
<ul>
<li>Underlying differences in upslope area can have cascade effects on
<code><a href="../reference/form_mapper.html">form_mapper()</a></code> calculations</li>
<li>The total area of a given cell can sometimes be off between LITAP
and FormMapR due to in tie-breaking determining which cell is evaluated
first.</li>
</ul>
</div>
<div class="section level3">
<h3 id="wepp_mapper-and-weppmapr">
<code>wepp_mapper()</code> and WeppMapR<a class="anchor" aria-label="anchor" href="#wepp_mapper-and-weppmapr"></a>
</h3>
<p>In the original WeppMapR, there was a bug resulting in some pit cells
being marked as belonging to channels they were nowhere near. This may
result in some differences between the output of the two programs.</p>
<p>Note also that the use of “top”, “left”, and “right” <em>is</em>
consistent between LITAP and FlowMapR, but its usage isn’t quite
consistent within the programs. “Top” refers to coming in from the top
to the cell (direction of flow is downwards). Whereas “right” and “left”
refer to the direction of flow (towards the right, coming in to the cell
from the left and vice versa). We leave this as is to be consistent with
FlowMapR but may change this in future.</p>
<p>Further, there are still some discrepancies in the exactly how
different segments and hillslopes are named which has yet to be figured
out.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Steffi LaZerte, Sheng Li, Agriculture and Agri-Food Canada.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
